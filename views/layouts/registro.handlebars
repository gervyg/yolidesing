<!DOCTYPE html>
<html lang="es" dir="ltr">

<head>
<meta charset="utf-8">
<meta autor="Gervy Gonzalez">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YOLIDESING</title>
<!--bootstrap 5.0.2-->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<!--Google Font: lobster-cabin-->
<link href="https://fonts.googleapis.com/css2?family=Cabin:wght@400;700&family=Lobster&display=swap" rel="stylesheet">
<!--Font Awesome 5.15.1-->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" crossorigin="anonymous">
<link rel="stylesheet" href="/static/assets/css/style.css">


<script src="https://code.jquery.com/jquery-3.6.0.min.js"   integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="   crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" crossorigin="anonymous">
<!-- include summernote css/js -->
  
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet" />  
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
  
</head>

  <body>

<nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-light py-0 px-0">
        <div class="container-fluid">
          <a class="navbar-brand text-white" href="#"><img src="/static/assets/img/logo.png" width="8%" class="png"> YOLIDESING</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarScroll">
            <ul class="navbar-nav ms-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
              <li class="nav-item">
                <a class="nav-link active " aria-current="page" href="/">Inicio</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " href="/">Productos</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " href="#destacados">Presupuesto</a>
                </li>
              <li class="nav-item">
                    <a class="nav-link  text-right" href="/">Contacto</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link " href="././login">Ingresar</a>
                </li>
              </ul>
            
          </div>
        </div>
      </nav>





    <div class="py-4">
      <h2 class="text-center" >REGISTRO DE CLIENTE</h2>
      <hr class="w-50" style="margin: 2rem 289px;  />

      <form id="formCreate" enctype="multipart/form-data" class="text-center">
        <div class="form-group row w-50 m-auto">
          <div class="form-group col-12 col-sm-6">
            <label>Email</label>
            <input  id="email" name="email" class="form-control m-auto" />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Nombre</label>
            <input id="nombre" name="nombre" class="form-control m-auto" />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Password</label>
            <input id="password" name="password" class="form-control m-auto" />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Repita la password</label>
            <input id="repita_password" name="repita_password" class="form-control m-auto" />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Dirección</label>
            <input id="direccion" name="direccion" class="form-control m-auto" />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Teléfono</label>
            <input id="telefono" name="telefono" class="form-control m-auto" />
          </div>
          
        </div>
        <button type="submit" class="btn btn-info mb-3 my-5">Registrarme</button>
        <p><a href="/login"> Iniciar sesión</a></p>
      </form>
    </div>
  </body>
</html>


<script>
  $(document).ready(function () {    
    $("#formCreate").submit(async (e) => { 
      e.preventDefault();          
      let email = $("#email").val();
      let nombre = $("#nombre").val(); 
      let password = $("#password").val();
      let repitaPassword = $("#repita_password").val();
      let anos = $("#anos").val();
      let especialidad = $("#especialidad").val();

      var formData = new FormData();
      formData.append("foto", $('#foto')[0].files[0]);
      formData.append("email", email);
      formData.append("nombre", nombre);
      formData.append("password", password);
      formData.append("anos", anos);
      formData.append("especialidad", especialidad);

      if(validate()){      
       
        axios.post(`/skaters`, formData
          ).then((response) => {
            console.log(response);
            alert("Registrado.")
          }, (error) => {
            console.log(error);
            alert("Disculpe hubo un error registrando.")
          });
        }


    });

    function validate() {
        let password = $("#password").val();
      let repitaPassword = $("#repita_password").val();
        if (password != repitaPassword) {
            alert("Passwords no coinciden.");
            return false;
        }
        return true;
    }
  });
  </script>